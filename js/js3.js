(function(f){if(f._errs&&_errs.shift){var u="https:"==location.protocol,p="http"+(u?"s":"")+"://p.errorception.com/projects/"+_errs.shift()+"/err",A="<form method='post' action='"+p+"'>",l=[],v="before",w=document.getElementsByTagName("script")[0],q=Array.prototype.slice,B=navigator.userAgent,r,m=function(a,c){for(var b in a)a.hasOwnProperty(b)&&c(b,a[b])},x=function(a){return function(c,b){b&&(a[c]=b)}},y=function(a,c){for(var b=0,d=a.length;b<d;b++)c(a[b],b)},C=function(){f.console&&console.log&&console.log.apply(console,arguments)},D=function(){var a=document.createElement("iframe");a.style.display="none";w.parentNode.insertBefore(a,w);setTimeout(function(){a.parentNode.removeChild(a)},1E4);var c=a.contentWindow||a.contentDocument;return c.document||c},E=function(a){var c=A;y(a,function(a,d){m(a,function(e,g){if("meta"!==e)c+=s(e+d,g);else{var h=0;m(a.meta,function(a,b){c+=s("meta"+d+"name"+h,a);c+=s("meta"+d+"value"+h,b);h++})}})});return c+"</form><script>onload=function(){setTimeout(function(){document.forms[0].submit()},10);}\x3c/script>"},s=function(a,c){return"<textarea name="+a+">"+(""+c).replace(/</g,"&lt;")+"</textarea>"},F=function(a,c){var b;f.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?(b=new XMLHttpRequest,b.open("post",p,!0),b.setRequestHeader("Content-Type","text/plain")):f.XDomainRequest&&(b=new XDomainRequest,b.open("POST",p));if(b&&f.JSON)b.onload=function(){c&&200==b.status&&parseInt(b.responseText)&&c(b.responseText)},b.send(JSON.stringify(a));else{var d=D();d.open();d.write(E(a));d.close()}},G=function(a){if(a._allow)return!0;if(_errs.allow&&_errs.allow.constructor&&_errs.allow.call&&_errs.allow.apply){var c={};y(["message","url","line"],function(b){var d=a[b];d&&(c[b]=d)});try{return _errs.allow(c)}catch(b){b._allow=!0;var d=_errs.meta;_errs.meta={"Original message":a.message,"Original line number":a.line,"Original script url":a.url};t(b);_errs.meta=d}}return!0},H=function(){if(_errs.meta){var a;m(_errs.meta,function(c,b){/string|number|boolean/.test(typeof b)&&(a=a||{},a[c]=b)});return a}},I=function(){for(var a=[],c;c=l.shift();){a.push(c);if(l.length&&"2"==c.method){var b=l.shift();"2"!=c.method||"2"===b.method||-1==b.message.indexOf(c.message)&&-1==c.message.indexOf(b.message)?l.unshift(b):!c.line&&b.line&&(c.line=b.line)}c.line||c.stack||a.pop()}return a},t=function(a){r&&clearTimeout(r);try{var c;if(a){var b;a.m?b={message:a.m,url:a.u,line:a.l,method:"0"}:a.length?(b={message:a[0],url:a[1],line:a[2],method:"1"},m({column:a[3],stack:a[4]&&a[4].stack?a[4].stack:a.stacktrace||a.stack,number:a.number},x(b))):a instanceof Error&&(b={message:a.name+": "+a.message,method:"2"},m({url:a.fileName||a.sourceURL,line:a.line||a.lineNumber,column:a.columnNumber,stack:a.stacktrace||a.stack,number:a.number,_allow:a._allow},x(b)));c=b}else c=void 0;if(!c)return;c.when=v;c.page=location.href;if(!c.stack&&a.callee&&a.callee.caller&&a.callee.caller.caller){b=c;var d,e=a.callee.caller;a=/function\s*([\w\-$]+)?\s*\(/i;for(var g=[],h;e&&e.arguments&&10>g.length;)h=a.test(e.toString())?RegExp.$1||"{anonymous}":"{anonymous}",g.push(h+"("+(u?"":n(q.call(e.arguments||[])))+")"),e=e.caller;(d=1<g.length?g.join("\n"):"")&&(b.stack=d)}d=c;if(!("Error loading script"==d.message&&/Firefox/.test(B)||!d.message||0==d.line||d.url&&0===d.url.split("#")[0].indexOf(location.href.split("#")[0])&&1==d.line||"script error."==d.message.toLowerCase()||/originalCreateNotification/.test(d.message)||/atomicFindClose/.test(d.message)||/jid1\-ejhbjdxm9zr4tq/.test(d.url)||"miscellaneous_bindings"==d.url)&&G(c)){var f=H();f&&(c.meta=f);l.push(c)}}catch(k){}r=setTimeout(J,200)},J=function(){try{var a=I();a.length&&F(a,function(a){C("Posted "+a+" error"+(1==a?"":"s")+" to errorception.com")})}catch(c){}},n=function(a){for(var c=[],b=0;b<a.length;++b){var d=a[b];void 0===d||null===d?c[b]=""+d:d.constructor&&(d.constructor==Array?c[b]=3>d.length?"["+n(d)+"]":"["+n(q.call(d,0,1))+"..."+n(q.call(d,-1))+"]":d.constructor==Object?c[b]="#object":d.constructor==Function?c[b]="#function":d.constructor==String?c[b]='"'+d+'"':d.constructor==Number&&(c[b]=d))}return c.join()},k;for(;k=_errs.shift();)t(k);v="after";k=_errs.meta;var z=_errs.allow;_errs={push:t};k&&(_errs.meta=k);z&&(_errs.allow=z)}})(window);
